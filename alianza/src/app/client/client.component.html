<div class="content">
    <div class="grid">
        <div class="col-2">
            <p-button (click)="showDialog()" label="New" icon="pi pi-plus"></p-button>
        </div>
        <div class="col">
            <p-button label="Export" icon="pi pi-file-export"></p-button>
        </div>
    </div>
    <div class="grid">
        <div class="col-4">
            <p-inputGroup>
                <input type="text" [(ngModel)]="sharedKey" pInputText placeholder="Enter shared key" />
                <button type="button" pButton label="Search" (click)="findBySharedKey()"></button>
            </p-inputGroup>
        </div>
        <div class="col">
            <p-button (click)="op.toggle($event)" label="Advanced search"></p-button>
            <p-overlayPanel #op [style]="{'background-color':'#a9c9d8'}">
                <ng-template pTemplate="content">
                    <div class="grid">
                        <div class="col" class="srchFieldNames">
                            <div class="labels">
                                <label>Name:</label>
                            </div>
                            <div class="labels">
                                <label>Phone:</label>
                            </div>
                            <div class="labels">
                                <label>E-Mail:</label>
                            </div>
                            <div class="labels">
                                <label>Start Date:</label>
                            </div>
                            <div class="labels">
                                <label>End Date:</label>
                            </div>                           
                        </div>
                        <div class="col">
                            <p-inputGroup>
                                <input type="text" pInputText [(ngModel)]="name">
                            </p-inputGroup>
                            <p-inputGroup>
                                <input type="text" pInputText [(ngModel)]="phone">
                            </p-inputGroup>
                            <p-inputGroup>
                                <input type="text" pInputText [(ngModel)]="email">
                            </p-inputGroup>
                            <div class="flex-auto">
                                <p-calendar [(ngModel)]="startDate" [showIcon]="true" inputId="buttondisplay"></p-calendar>
                            </div>
                            <div class="flex-auto">
                                <p-calendar [(ngModel)]="endDate" [showIcon]="true" inputId="buttondisplay"></p-calendar>
                            </div>
                            <div class="srchBtn">
                                <p-button label="Ok"></p-button>
                            </div>
                        </div>
                    </div>                  
                </ng-template>
            </p-overlayPanel>

        </div>       
    </div>
    <h2>Clients</h2>
    <div class="card">
        <p-table [value]="clients" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>Shared key</th>
                    <th>Bussines Id</th>
                    <th>E-mail</th>
                    <th>Phone</th>
                    <th>Data added</th>
                    <th>Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-client>
                <tr>
                    <td>{{ client.sharedKey }}</td>
                    <td>{{ client.bussinesId }}</td>
                    <td>{{ client.phone }}</td>
                    <td>{{ client.email }}</td>
                    <td>{{ client.dataAdded }}</td>
                    <td>Actions</td>
                </tr>       
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog header="Create new client" [(visible)]="visible" [modal]="true">
    <div class="card">
        <p-messages [(value)]="messages" [enableService]="false" [closable]="true"></p-messages>
    </div>
    <div class="grid">
        <div class="col">
            <p-inputGroup>
                <input type="text" pInputText [(ngModel)]="name" placeholder="Name" required>
            </p-inputGroup>
            <p-inputGroup>
                <input type="text" pInputText [(ngModel)]="email" placeholder="E-mail" required>
            </p-inputGroup>
            <p-inputGroup>
                <input type="text" pInputText [(ngModel)]="phone" placeholder="Phone" required>
            </p-inputGroup>
            <div class="srchBtn">
                <p-button (click)="save()" label="Ok"></p-button>
            </div>
        </div>
    </div>
</p-dialog>